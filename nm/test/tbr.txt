# Test Set 3: Time-Based Rule Production.
#

###############################################################################
# TC 3.1 Generate Reports to a schedule.
###############################################################################
# This test will cause an AGENT FULL report to be generated
# 5 times at intervals of 5 seconds each.
#
###############################################################################


#------------------------------------------------------------------------------
# Step 3.1.1: Build the TBR to report on the AGENT Full Report.
# NN: 1, ISS: 1, Name: 1
#------------------------------------------------------------------------------
# NOTE: The TRL will have an ID of: 0xab01410101
# START: 0
# PERIOD: 5
# COUNT: 5
# Action: {GEN_RPT({FULL_REPORT}, 0)}
#------------------------------------------------------------------------------
c115410a583588054624161616251245ab01410101410041054105568154c11541054f840542252347814587181941004180486747656e52707473
WAIT 1

#------------------------------------------------------------------------------
# Step 3.1.2: Verify that 5 reports are received approximately 
# 5 seconds apart (variance up to 1 second between individual reports
# are within tolerance due to the 1Hz rate of the agent autonomy
# engine. 
#------------------------------------------------------------------------------
 
WAIT 30
 

###############################################################################
# TC 3.2: Manipulate TBRs.
###############################################################################
# Interrupt a running TBR
###############################################################################

#------------------------------------------------------------------------------
# Step 3.2.1: Define a TRL that will generate an AGENT FULL REPORT every 30
# seconds 100 times.
#------------------------------------------------------------------------------
# TBR 2 will have an Id of: 0xab01410201
#------------------------------------------------------------------------------
c115410a583488054624161616251245ab01410201410042181e421864568154c11541054f840542252347814587181941004180456454425232
WAIT 1


#------------------------------------------------------------------------------
# Step 3.2.2: List TBRs on the agent. 
#------------------------------------------------------------------------------
c11541064f84054225234781458a181b41044180
WAIT 1


#------------------------------------------------------------------------------
# Step 3.2.3: Verify TBR 2 is listed in the report.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 3.2.4: Describe TBR 2.
#------------------------------------------------------------------------------
c115410d4c83054125478145ab01410201
WAIT 1

#------------------------------------------------------------------------------
# Step 3.2.5: Verify the description matches the definition.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 3.2.6: Delete the TRL.
#------------------------------------------------------------------------------
c115410c4c83054125478145ab01410201
WAIT 1


#------------------------------------------------------------------------------
# Step 3.2.7: Verify no reports received after TRL deleted.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 3.2.8: List TBRs on the agent.
#------------------------------------------------------------------------------
c11541064f84054225234781458a181b41044180
WAIT 1

#------------------------------------------------------------------------------
# Step 3.2.9: Verify TBR2 not shown in list.
#------------------------------------------------------------------------------

#------------------------------------------------------------------------------
# Step 3.2.10: Describe TBR 2 from the agent.
#------------------------------------------------------------------------------
c115410d4c83054125478145ab01410201
WAIT 1

#------------------------------------------------------------------------------
# Step 3.2.11: Verify TBR not there to be described.
#------------------------------------------------------------------------------


###############################################################################
# TC 3.3: Run parameterized macro by TBR
###############################################################################
# 
###############################################################################

#------------------------------------------------------------------------------
# Step 3.3.1: Define TBR T7 to run Agent Macro USER_DESC 1 time wither period 5.
#------------------------------------------------------------------------------
# T7 ARI: 0xab01410701
#------------------------------------------------------------------------------
c115410a583888054624161616251245ab01410701410041014101581d81581ac41741005584054225254781458718194100478145ab0141070143625437
WAIT 1

#------------------------------------------------------------------------------
# Step 3.3.2: Read the returned report and make sure parms were correct.
#------------------------------------------------------------------------------


