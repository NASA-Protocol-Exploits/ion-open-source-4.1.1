<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unibo-CGR: core/cgr/cgr_phases.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unibo-CGR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li><li class="navelem"><a class="el" href="dir_6e1c4bcf48b7d5e2618e8d262a3dd3f7.html">cgr</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">cgr_phases.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file contains the declarations of the functions to call and manage each of the three logical CGR phases.  
<a href="#details">More...</a></p>

<p><a href="cgr__phases_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a625fd1e1775605b44f3ff6c3fd8cd1d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a625fd1e1775605b44f3ff6c3fd8cd1d5">MAX_SPEED_MPH</a>&#160;&#160;&#160;(450000)</td></tr>
<tr class="memdesc:a625fd1e1775605b44f3ff6c3fd8cd1d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum rate of change in distance between any two nodes in the network is 450,000 miles (720,000 km) per hour.  <a href="cgr__phases_8h.html#a625fd1e1775605b44f3ff6c3fd8cd1d5">More...</a><br /></td></tr>
<tr class="separator:a625fd1e1775605b44f3ff6c3fd8cd1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ce4b4f10d9c61fec539f31312107ad"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a03ce4b4f10d9c61fec539f31312107ad">NEGLECT_CONFIDENCE</a></td></tr>
<tr class="memdesc:a03ce4b4f10d9c61fec539f31312107ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to enable or disable the use of the confidence for the computation and the choose of the routes.  <a href="cgr__phases_8h.html#a03ce4b4f10d9c61fec539f31312107ad">More...</a><br /></td></tr>
<tr class="separator:a03ce4b4f10d9c61fec539f31312107ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a433e185125a5cde5d9f3260cd828d4bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a433e185125a5cde5d9f3260cd828d4bc">MIN_CONFIDENCE_IMPROVEMENT</a>&#160;&#160;&#160;(0.05)</td></tr>
<tr class="memdesc:a433e185125a5cde5d9f3260cd828d4bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower confidence for a route.  <a href="cgr__phases_8h.html#a433e185125a5cde5d9f3260cd828d4bc">More...</a><br /></td></tr>
<tr class="separator:a433e185125a5cde5d9f3260cd828d4bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d26088cdd64bdc0fb766c01cda7e6c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a54d26088cdd64bdc0fb766c01cda7e6c">print_phase_one_routes</a>(file,  computedRoutes)&#160;&#160;&#160;do { } while(0)</td></tr>
<tr class="separator:a54d26088cdd64bdc0fb766c01cda7e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc8987a656207e6f7cc7b650ccf1ee8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a7cc8987a656207e6f7cc7b650ccf1ee8">print_phase_two_routes</a>(file,  candidateRoutes)&#160;&#160;&#160;do { } while(0)</td></tr>
<tr class="separator:a7cc8987a656207e6f7cc7b650ccf1ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1f21ae2fbdcf5958cb24e6fdbbac072"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#ae1f21ae2fbdcf5958cb24e6fdbbac072">print_phase_three_routes</a>(file,  bestRoutes)&#160;&#160;&#160;do { } while(0)</td></tr>
<tr class="separator:ae1f21ae2fbdcf5958cb24e6fdbbac072"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0638af53905b011e5afb9d4a712333b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a0638af53905b011e5afb9d4a712333b0">initialize_phase_one</a> (unsigned long long localNode)</td></tr>
<tr class="memdesc:a0638af53905b011e5afb9d4a712333b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all the data used by the phase one.  <a href="cgr__phases_8h.html#a0638af53905b011e5afb9d4a712333b0">More...</a><br /></td></tr>
<tr class="separator:a0638af53905b011e5afb9d4a712333b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b213e7911c723035e70d8f07ea568b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a85b213e7911c723035e70d8f07ea568b">reset_phase_one</a> ()</td></tr>
<tr class="memdesc:a85b213e7911c723035e70d8f07ea568b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all the data used by the phase one.  <a href="cgr__phases_8h.html#a85b213e7911c723035e70d8f07ea568b">More...</a><br /></td></tr>
<tr class="separator:a85b213e7911c723035e70d8f07ea568b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86f058d9a4ffc3d054904473172d5daf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a86f058d9a4ffc3d054904473172d5daf">destroy_phase_one</a> ()</td></tr>
<tr class="memdesc:a86f058d9a4ffc3d054904473172d5daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy all the data used by the phase one (memory areas will be deallocated)  <a href="cgr__phases_8h.html#a86f058d9a4ffc3d054904473172d5daf">More...</a><br /></td></tr>
<tr class="separator:a86f058d9a4ffc3d054904473172d5daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbaf21dfc3d892dafacb8befb1898328"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#afbaf21dfc3d892dafacb8befb1898328">computeRoutes</a> (unsigned long regionNbr, <a class="el" href="nodes_8h.html#ac09cf950484bd9550d14d602b0e5e7fb">Node</a> *terminusNode, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> subsetComputedRoutes, long unsigned int missingNeighbors)</td></tr>
<tr class="memdesc:afbaf21dfc3d892dafacb8befb1898328"><td class="mdescLeft">&#160;</td><td class="mdescRight">Phase one entry point: get the computed routes list.  <a href="cgr__phases_8h.html#afbaf21dfc3d892dafacb8befb1898328">More...</a><br /></td></tr>
<tr class="separator:afbaf21dfc3d892dafacb8befb1898328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5450d4081211d44ddcb642b62a08717"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#af5450d4081211d44ddcb642b62a08717">initialize_phase_two</a> ()</td></tr>
<tr class="memdesc:af5450d4081211d44ddcb642b62a08717"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the data used by the phase two.  <a href="cgr__phases_8h.html#af5450d4081211d44ddcb642b62a08717">More...</a><br /></td></tr>
<tr class="separator:af5450d4081211d44ddcb642b62a08717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8008e926aba4248946a793115e385d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a8d8008e926aba4248946a793115e385d">destroy_phase_two</a> ()</td></tr>
<tr class="memdesc:a8d8008e926aba4248946a793115e385d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate all the memory allocated by the phase two.  <a href="cgr__phases_8h.html#a8d8008e926aba4248946a793115e385d">More...</a><br /></td></tr>
<tr class="separator:a8d8008e926aba4248946a793115e385d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73c02ea4a81583e33891590bf0e9cf4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a73c02ea4a81583e33891590bf0e9cf4a">reset_phase_two</a> ()</td></tr>
<tr class="memdesc:a73c02ea4a81583e33891590bf0e9cf4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the routes list, so at the end it will be empty.  <a href="cgr__phases_8h.html#a73c02ea4a81583e33891590bf0e9cf4a">More...</a><br /></td></tr>
<tr class="separator:a73c02ea4a81583e33891590bf0e9cf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5d6a27655795b8e3cfebece1f4a1dbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#ac5d6a27655795b8e3cfebece1f4a1dbe">checkRoute</a> (time_t current_time, unsigned long long localNode, <a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *bundle, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> <a class="el" href="interface__unibocgr__dtn2_8cc.html#ac166cd469ad1aa61963b9b9c28372dc9">excludedNeighbors</a>, <a class="el" href="routes_8h.html#a88b8c323d6cd602bd979ae688ad48006">Route</a> *route)</td></tr>
<tr class="memdesc:ac5d6a27655795b8e3cfebece1f4a1dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the route is viable for the forwarding of the bundle.  <a href="cgr__phases_8h.html#ac5d6a27655795b8e3cfebece1f4a1dbe">More...</a><br /></td></tr>
<tr class="separator:ac5d6a27655795b8e3cfebece1f4a1dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7a5ca4e6091f6e069317d3e4e65c31"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a8e7a5ca4e6091f6e069317d3e4e65c31">getCandidateRoutes</a> (<a class="el" href="nodes_8h.html#ac09cf950484bd9550d14d602b0e5e7fb">Node</a> *terminusNode, <a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *bundle, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> <a class="el" href="interface__unibocgr__dtn2_8cc.html#ac166cd469ad1aa61963b9b9c28372dc9">excludedNeighbors</a>, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> computedRoutes, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> *subsetComputedRoutes, long unsigned int *missingNeighbors, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> *candidateRoutes)</td></tr>
<tr class="memdesc:a8e7a5ca4e6091f6e069317d3e4e65c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check all the computed routes and populate the candidate routes list.  <a href="cgr__phases_8h.html#a8e7a5ca4e6091f6e069317d3e4e65c31">More...</a><br /></td></tr>
<tr class="separator:a8e7a5ca4e6091f6e069317d3e4e65c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217d39f1ff3db477e55767419c46911b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a217d39f1ff3db477e55767419c46911b">computeApplicableBacklog</a> (unsigned long long neighbor, int priority, unsigned int ordinal, <a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *applicableBacklog, <a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *totalBacklog)</td></tr>
<tr class="memdesc:a217d39f1ff3db477e55767419c46911b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the applicable backlog (SABR 3.2.6.2 b) ) and the total backlog for a neighbor.  <a href="cgr__phases_8h.html#a217d39f1ff3db477e55767419c46911b">More...</a><br /></td></tr>
<tr class="separator:a217d39f1ff3db477e55767419c46911b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142fe349b424e48b66f5892091b797d6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a142fe349b424e48b66f5892091b797d6">chooseBestRoutes</a> (<a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *bundle, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> candidateRoutes)</td></tr>
<tr class="memdesc:a142fe349b424e48b66f5892091b797d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the best routes. At the end in candidateRoutes will remain only the best routes choosed (subset).  <a href="cgr__phases_8h.html#a142fe349b424e48b66f5892091b797d6">More...</a><br /></td></tr>
<tr class="separator:a142fe349b424e48b66f5892091b797d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18499fac88db2d59bca688cdac22a7ee"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a18499fac88db2d59bca688cdac22a7ee">get_current_time</a> ()</td></tr>
<tr class="memdesc:a18499fac88db2d59bca688cdac22a7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current time. It is usually a differential time that refers to a time stored in the interface (or whatever intermediary with BP).  <a href="cgr__phases_8h.html#a18499fac88db2d59bca688cdac22a7ee">More...</a><br /></td></tr>
<tr class="separator:a18499fac88db2d59bca688cdac22a7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8247219d9b72b8d19e91358d83382c"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cgr__phases_8h.html#a1e8247219d9b72b8d19e91358d83382c">get_local_node</a> ()</td></tr>
<tr class="memdesc:a1e8247219d9b72b8d19e91358d83382c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IPN number of the local node (the node where Unibo-CGR is running).  <a href="cgr__phases_8h.html#a1e8247219d9b72b8d19e91358d83382c">More...</a><br /></td></tr>
<tr class="separator:a1e8247219d9b72b8d19e91358d83382c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains the declarations of the functions to call and manage each of the three logical CGR phases. </p>
<p>You find the implementation of the functions declared here in the files <a class="el" href="phase__one_8c.html" title="This file provides the implementation of the CGR&#39;s phase one: in this phase we compute the routes tha...">phase_one.c</a>, <a class="el" href="phase__two_8c.html" title="This file provides the implementation of the CGR&#39;s phase two: in this phase we determine who are the ...">phase_two.c</a> and <a class="el" href="phase__three_8c.html" title="This file provides the implementation of the CGR&#39;s phase three: the choose of the best routes from th...">phase_three.c</a> .</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020, Alma Mater Studiorum, University of Bologna, All rights reserved.</dd></dl>
<dl class="section user"><dt>License</dt><dd></dd></dl>
<p>This file is part of Unibo-CGR. <br  />
 <br  />
 Unibo-CGR is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. <br  />
 Unibo-CGR is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. <br  />
 <br  />
 You should have received a copy of the GNU General Public License along with Unibo-CGR. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Persampieri, <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo.'+'pe'+'rsa'+'mp'+'ier'+'i@'+'stu'+'di'+'o.u'+'ni'+'bo.'+'it'; return false;">loren<span style="display: none;">.nosp@m.</span>zo.p<span style="display: none;">.nosp@m.</span>ersam<span style="display: none;">.nosp@m.</span>pier<span style="display: none;">.nosp@m.</span>i@stu<span style="display: none;">.nosp@m.</span>dio.<span style="display: none;">.nosp@m.</span>unibo<span style="display: none;">.nosp@m.</span>.it</a></dd></dl>
<dl class="section user"><dt>Supervisor</dt><dd>Carlo Caini, <a href="#" onclick="location.href='mai'+'lto:'+'car'+'lo'+'.ca'+'in'+'i@u'+'ni'+'bo.'+'it'; return false;">carlo<span style="display: none;">.nosp@m.</span>.cai<span style="display: none;">.nosp@m.</span>ni@un<span style="display: none;">.nosp@m.</span>ibo.<span style="display: none;">.nosp@m.</span>it</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a625fd1e1775605b44f3ff6c3fd8cd1d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a625fd1e1775605b44f3ff6c3fd8cd1d5">&#9670;&nbsp;</a></span>MAX_SPEED_MPH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_SPEED_MPH&#160;&#160;&#160;(450000)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The maximum rate of change in distance between any two nodes in the network is 450,000 miles (720,000 km) per hour. </p>
<p>From SABR CCSDS Blue book, 2.4.2 </p>

</div>
</div>
<a id="a433e185125a5cde5d9f3260cd828d4bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433e185125a5cde5d9f3260cd828d4bc">&#9670;&nbsp;</a></span>MIN_CONFIDENCE_IMPROVEMENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN_CONFIDENCE_IMPROVEMENT&#160;&#160;&#160;(0.05)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lower confidence for a route. </p>
<p>It must be between 0.0 and 1.0 . This macro should assume the same value used by the bundle protocol. Keep in mind that ION 3.7.0 use 0.05 as default value.</p>
<dl class="section warning"><dt>Warning</dt><dd>Change this value only if you know what you are doing. </dd></dl>

</div>
</div>
<a id="a03ce4b4f10d9c61fec539f31312107ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ce4b4f10d9c61fec539f31312107ad">&#9670;&nbsp;</a></span>NEGLECT_CONFIDENCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NEGLECT_CONFIDENCE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to enable or disable the use of the confidence for the computation and the choose of the routes. </p>
<p>ION implementation differs slightly from CCSDS SABR in the candidate and best route selection criteria as ION use the route confidence, not mentioned in CCSDS SABR. Set to 1 if you want CGR to strictly implements the CCSDS SABR criteria, thus to neglect confidence. Otherwise set to 0. </p>

</div>
</div>
<a id="a54d26088cdd64bdc0fb766c01cda7e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d26088cdd64bdc0fb766c01cda7e6c">&#9670;&nbsp;</a></span>print_phase_one_routes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define print_phase_one_routes</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">file, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">computedRoutes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do { } while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae1f21ae2fbdcf5958cb24e6fdbbac072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1f21ae2fbdcf5958cb24e6fdbbac072">&#9670;&nbsp;</a></span>print_phase_three_routes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define print_phase_three_routes</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">file, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">bestRoutes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do { } while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cc8987a656207e6f7cc7b650ccf1ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc8987a656207e6f7cc7b650ccf1ee8">&#9670;&nbsp;</a></span>print_phase_two_routes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define print_phase_two_routes</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">file, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">candidateRoutes&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do { } while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac5d6a27655795b8e3cfebece1f4a1dbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5d6a27655795b8e3cfebece1f4a1dbe">&#9670;&nbsp;</a></span>checkRoute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int checkRoute </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>localNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *&#160;</td>
          <td class="paramname"><em>bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>excludedNeighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="routes_8h.html#a88b8c323d6cd602bd979ae688ad48006">Route</a> *&#160;</td>
          <td class="paramname"><em>route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the route is viable for the forwarding of the bundle. </p>
<dl class="section user"><dt>Function Name:</dt><dd>checkRoute</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>06/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success case: The route is viable for the forwarding of the bundle </td></tr>
    <tr><td class="paramname">-1</td><td>The route was already checked </td></tr>
    <tr><td class="paramname">-2</td><td>MWITHDRAW error </td></tr>
    <tr><td class="paramname">-3</td><td>Route not viable: Terminated route SABR 2.3.2.1 </td></tr>
    <tr><td class="paramname">-4</td><td>Route not viable: Best-case delivery time is after than the bundle's deadline SABR 3.2.6.9 a) </td></tr>
    <tr><td class="paramname">-5</td><td>Route not viable: (no SABR) The first contact has a confidence less than 1.0 (used in ION) </td></tr>
    <tr><td class="paramname">-6</td><td>Route not viable: (no SABR) The route adds to the bundle's delivery confidence a not considerable confidence (used in ION) </td></tr>
    <tr><td class="paramname">-7</td><td>Route not viable: The neighbor is the local node but the local node isn't the bundle's destination node SABR 3.2.6.9 c) </td></tr>
    <tr><td class="paramname">-8</td><td>Route not viable: The neighbor is in the excluded nodes list SABR 3.2.6.9 b) </td></tr>
    <tr><td class="paramname">-9</td><td>Route not viable: PBAT computation error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">current_time</td><td>The time used during the call </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">localNode</td><td>The own node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*bundle</td><td>The bundle that has to be forwarded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excludedNeighbors</td><td>The excluded nodes list SABR 3.2.5.2 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*route</td><td>The route to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>bundle doesn't have to be NULL </dd>
<dd>
excludedNeighbors doesn't have to be NULL </dd>
<dd>
route doesn't have to be NULL</dd></dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>In success case the following route's fields will be updated:<ul>
<li>eto</li>
<li>pbat</li>
<li>routeVolumeLimit</li>
<li>bundleEVC</li>
<li>owltSum</li>
<li>arrivalTime</li>
<li>checkValue</li>
</ul>
</li>
<li>In success case: if CGR_AVOID_LOOP is enabled and the neighbor is in the bundle's loopNodes list we add the neighbor to the phase one's failedNeighbors list, in that case the route's checkValue field will be updated to CLOSING_LOOP.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">06/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a142fe349b424e48b66f5892091b797d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a142fe349b424e48b66f5892091b797d6">&#9670;&nbsp;</a></span>chooseBestRoutes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int chooseBestRoutes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *&#160;</td>
          <td class="paramname"><em>bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>candidateRoutes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the best routes. At the end in candidateRoutes will remain only the best routes choosed (subset). </p>
<dl class="section user"><dt>Function Name:</dt><dd>chooseBestRoutes</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>13/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;= 0</td><td>The number of the best routes choosed. </td></tr>
    <tr><td class="paramname">-1</td><td>Arguments error: NULL pointer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*bundle</td><td>The bundle that has to be forwarded </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">candidateRoutes</td><td>Initially it contains the candidate routes, at the end it will contains only the best routes. The other routes will be discarded for the forwarding of the bundle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>If the bundle is not critical at the end we get at most one route.</li>
<li>If the bundle is critical at the end we get at most one route per neighbor.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">13/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a217d39f1ff3db477e55767419c46911b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217d39f1ff3db477e55767419c46911b">&#9670;&nbsp;</a></span>computeApplicableBacklog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int computeApplicableBacklog </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>neighbor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ordinal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *&#160;</td>
          <td class="paramname"><em>CgrApplicableBacklog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *&#160;</td>
          <td class="paramname"><em>CgrTotalBacklog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the applicable backlog (SABR 3.2.6.2 b) ) and the total backlog for a neighbor. </p>
<dl class="section user"><dt>Function Name:</dt><dd>computeApplicableBacklog</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>20/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Applicable and total backlog computed </td></tr>
    <tr><td class="paramname">-1</td><td>Arguments error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">neighbor</td><td>The neighbor for which we want to compute the applicable and total backlog. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">priority</td><td>The bundle's cardinal priority </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ordinal</td><td>The bundle's ordinal priority (used with expedited cardinal priority) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*CgrApplicableBacklog</td><td>The applicable backlog computed </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*CgrTotalBacklog</td><td>The total backlog computed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>This function talks with the CL queue, that should be done during phase two to get a more accurate applicable (and total) backlog</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">20/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10/08/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Fixed oasys::Lock bug    </td></tr>
</table>

</div>
</div>
<a id="afbaf21dfc3d892dafacb8befb1898328"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbaf21dfc3d892dafacb8befb1898328">&#9670;&nbsp;</a></span>computeRoutes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int computeRoutes </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>regionNbr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="nodes_8h.html#ac09cf950484bd9550d14d602b0e5e7fb">Node</a> *&#160;</td>
          <td class="paramname"><em>terminusNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>subsetComputedRoutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>missingNeighbors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Phase one entry point: get the computed routes list. </p>
<dl class="section user"><dt>Function Name:</dt><dd>computeRoutes</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>30/01/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;= 0</td><td>Success case: number of routes computed </td></tr>
    <tr><td class="paramname">-1</td><td>There are no routes to reach the destination </td></tr>
    <tr><td class="paramname">-2</td><td>MWITHDRAW error </td></tr>
    <tr><td class="paramname">-3</td><td>Arguments error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*terminusNode</td><td>The Node for which we want to compute the routes </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">subsetComputedRoutes</td><td>Phase two recommends Yen's algorithm for each route in this set </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">missingNeighbors</td><td>The number of routes to find (from new neighbors)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30/01/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a86f058d9a4ffc3d054904473172d5daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86f058d9a4ffc3d054904473172d5daf">&#9670;&nbsp;</a></span>destroy_phase_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_phase_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destroy all the data used by the phase one (memory areas will be deallocated) </p>
<dl class="section user"><dt>Function Name: destroy_phase_one</dt><dd></dd></dl>
<p>Destroy the excludedNeighbors list.</p>
<dl class="section user"><dt>Date Written:</dt><dd>30/01/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30/01/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a8d8008e926aba4248946a793115e385d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d8008e926aba4248946a793115e385d">&#9670;&nbsp;</a></span>destroy_phase_two()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_phase_two </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate all the memory allocated by the phase two. </p>
<dl class="section user"><dt>Function Name:</dt><dd>destroy_phase_two</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>06/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">06/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a18499fac88db2d59bca688cdac22a7ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18499fac88db2d59bca688cdac22a7ee">&#9670;&nbsp;</a></span>get_current_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t get_current_time </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the current time. It is usually a differential time that refers to a time stored in the interface (or whatever intermediary with BP). </p>
<dl class="section user"><dt>Function Name:</dt><dd>get_current_time</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>02/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>time_t</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02/07/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a1e8247219d9b72b8d19e91358d83382c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8247219d9b72b8d19e91358d83382c">&#9670;&nbsp;</a></span>get_local_node()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long get_local_node </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the IPN number of the local node (the node where Unibo-CGR is running). </p>
<dl class="section user"><dt>Function Name:</dt><dd>get_local_node</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>02/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>unsgined long long</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt; 0</td><td>The local node </td></tr>
    <tr><td class="paramname">0</td><td>Unibo-CGR not yet initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02/07/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a8e7a5ca4e6091f6e069317d3e4e65c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7a5ca4e6091f6e069317d3e4e65c31">&#9670;&nbsp;</a></span>getCandidateRoutes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int getCandidateRoutes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="nodes_8h.html#ac09cf950484bd9550d14d602b0e5e7fb">Node</a> *&#160;</td>
          <td class="paramname"><em>terminusNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *&#160;</td>
          <td class="paramname"><em>bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>excludedNeighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>computedRoutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> *&#160;</td>
          <td class="paramname"><em>subsetComputedRoutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long unsigned int *&#160;</td>
          <td class="paramname"><em>missingNeighbors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> *&#160;</td>
          <td class="paramname"><em>candidateRoutes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check all the computed routes and populate the candidate routes list. </p>
<dl class="section user"><dt>Function Name:</dt><dd>getCandidateRoutes</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>06/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Go back to phase one </td></tr>
    <tr><td class="paramname">&gt; 0</td><td>Number of routes in candidate routes list. </td></tr>
    <tr><td class="paramname">-1</td><td>Arguments error </td></tr>
    <tr><td class="paramname">-2</td><td>MWITHDRAW error, candidateRoutes points to NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">*terminusNode</td><td>The destination node </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*bundle</td><td>The bundle that has to be forwarded </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">excludedNeighbors</td><td>The excluded nodes list SABR 3.2.5.2 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">computedRoutes</td><td>The routes to check </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*subsetComputedRoutes</td><td>The set of routes that this phase recommend to phase one. Each route in this set should be used to compute other routes (Yen). </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*missingNeighbors</td><td>The number of "missing" neighbors. We want a route for each of these neighbors. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*candidateRoutes</td><td>The candidate routes, NULL only if the return value is less than 1 and not equal to -10.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>In success case candidateRoutes will be a subset of computedRoutes, otherwise candidateRoutes will points to NULL</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">06/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">27/04/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Refactoring    </td></tr>
</table>

</div>
</div>
<a id="a0638af53905b011e5afb9d4a712333b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0638af53905b011e5afb9d4a712333b0">&#9670;&nbsp;</a></span>initialize_phase_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initialize_phase_one </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ownNode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize all the data used by the phase one. </p>
<dl class="section user"><dt>Function Name:</dt><dd>initialize_phase_one</dd></dl>
<dl class="section user"><dt>Date Written: 30/01/20</dt><dd></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Success case: initialized </td></tr>
    <tr><td class="paramname">-2</td><td>MWITHDRAW error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ownNode</td><td>The local node</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>Initialize:<ul>
<li>The contacts graph's root</li>
<li>The excludedNeighbors list</li>
</ul>
</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30/01/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="af5450d4081211d44ddcb642b62a08717"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5450d4081211d44ddcb642b62a08717">&#9670;&nbsp;</a></span>initialize_phase_two()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initialize_phase_two </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the data used by the phase two. </p>
<dl class="section user"><dt>Function Name:</dt><dd>initialize_phase_two</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>06/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Success case: phase two initialized </td></tr>
    <tr><td class="paramname">-2</td><td>MWITHDRAW error</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">06/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a85b213e7911c723035e70d8f07ea568b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b213e7911c723035e70d8f07ea568b">&#9670;&nbsp;</a></span>reset_phase_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_phase_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear all the data used by the phase one. </p>
<dl class="section user"><dt>Function Name:</dt><dd>reset_phase_one</dd></dl>
<p>Delete the elements of the excludedNeighbors list.</p>
<dl class="section user"><dt>Date Written:</dt><dd>30/01/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>Only the elements (ListElt) of the list will be deallocated, not the list itself.</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">30/01/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a73c02ea4a81583e33891590bf0e9cf4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73c02ea4a81583e33891590bf0e9cf4a">&#9670;&nbsp;</a></span>reset_phase_two()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_phase_two </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the routes list, so at the end it will be empty. </p>
<dl class="section user"><dt>Function Name:</dt><dd>reset_phase_two</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>06/02/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">06/02/20   </td><td class="markdownTableBodyNone">L. Persampieri   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
