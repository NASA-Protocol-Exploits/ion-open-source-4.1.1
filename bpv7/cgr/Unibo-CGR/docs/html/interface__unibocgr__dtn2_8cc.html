<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Unibo-CGR: dtnme/interface/interface_unibocgr_dtn2.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Unibo-CGR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_021e5a4096b7ec40ae6833e09fc9a5a7.html">dtnme</a></li><li class="navelem"><a class="el" href="dir_fc4771826181b7f5d623f32b47534be3.html">interface</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">interface_unibocgr_dtn2.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file provides the implementation of the functions that make UniboCGR's implementation compatible with DTN2.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_g_r_r_hop.html">CGRRHop</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_g_r_route.html">CGRRoute</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_c_g_r_route_block.html">CGRRouteBlock</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_geo_route.html">GeoRoute</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab730db6c131cbfc8a415ea56733aef89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ab730db6c131cbfc8a415ea56733aef89">NOMINAL_PRIMARY_BLKSIZE</a>&#160;&#160;&#160;29</td></tr>
<tr class="separator:ab730db6c131cbfc8a415ea56733aef89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac80010c02b2c78d8877f6ac4a5daae31"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ac80010c02b2c78d8877f6ac4a5daae31">EPOCH_2000_SEC</a>&#160;&#160;&#160;946684800</td></tr>
<tr class="separator:ac80010c02b2c78d8877f6ac4a5daae31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb214272346ae65f44d865a9f01f353"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a4cb214272346ae65f44d865a9f01f353">CONTACT_FILE</a>&#160;&#160;&#160;&quot;./contact-plan.txt&quot;</td></tr>
<tr class="memdesc:a4cb214272346ae65f44d865a9f01f353"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the name of the contact file from which unibocgr get contacts and ranges.  <a href="interface__unibocgr__dtn2_8cc.html#a4cb214272346ae65f44d865a9f01f353">More...</a><br /></td></tr>
<tr class="separator:a4cb214272346ae65f44d865a9f01f353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7be558e5be1bcd091dd761547647ce16"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a7be558e5be1bcd091dd761547647ce16">printDebugIonRoute</a>(ionwm,  route)&#160;&#160;&#160;do {  } while(0)</td></tr>
<tr class="separator:a7be558e5be1bcd091dd761547647ce16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a96406857d9fc71ec0b2e34e542504a51"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a96406857d9fc71ec0b2e34e542504a51">convert_bundle_from_dtn2_to_cgr</a> (time_t current_time, dtn::Bundle *Dtn2Bundle, <a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *<a class="el" href="struct_cgr_bundle.html">CgrBundle</a>)</td></tr>
<tr class="memdesc:a96406857d9fc71ec0b2e34e542504a51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the characteristics of the bundle from DTN2 to this CGR's implementation and initialize all the bundle fields used by the Unibo CGR.  <a href="interface__unibocgr__dtn2_8cc.html#a96406857d9fc71ec0b2e34e542504a51">More...</a><br /></td></tr>
<tr class="separator:a96406857d9fc71ec0b2e34e542504a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967a340bdfa2ce4a80cb7f845d705c7c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a967a340bdfa2ce4a80cb7f845d705c7c">convert_routes_from_cgr_to_dtn2</a> (long unsigned int evc, <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> cgrRoutes, std::string *res)</td></tr>
<tr class="memdesc:a967a340bdfa2ce4a80cb7f845d705c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a list of routes from CGR's format to DTN2's format.  <a href="interface__unibocgr__dtn2_8cc.html#a967a340bdfa2ce4a80cb7f845d705c7c">More...</a><br /></td></tr>
<tr class="separator:a967a340bdfa2ce4a80cb7f845d705c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87657c3f96e49dd84176e069b7e25419"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a87657c3f96e49dd84176e069b7e25419">add_contact</a> (char *fileline)</td></tr>
<tr class="memdesc:a87657c3f96e49dd84176e069b7e25419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a contact to the contacts graph of this CGR's implementation.  <a href="interface__unibocgr__dtn2_8cc.html#a87657c3f96e49dd84176e069b7e25419">More...</a><br /></td></tr>
<tr class="separator:a87657c3f96e49dd84176e069b7e25419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa331efc96bd82e2da9feeccfee791250"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#aa331efc96bd82e2da9feeccfee791250">add_range</a> (char *fileline)</td></tr>
<tr class="memdesc:aa331efc96bd82e2da9feeccfee791250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a range to the ranges graph of this CGR's implementation.  <a href="interface__unibocgr__dtn2_8cc.html#aa331efc96bd82e2da9feeccfee791250">More...</a><br /></td></tr>
<tr class="separator:aa331efc96bd82e2da9feeccfee791250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf329f14eada823571740e544134272"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a1cf329f14eada823571740e544134272">read_file_contactranges</a> (char *filename)</td></tr>
<tr class="memdesc:a1cf329f14eada823571740e544134272"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and add all new contacts or ranges of the file with filename specified in the first parameter to the contacts graph of thic CGR's implementation.  <a href="interface__unibocgr__dtn2_8cc.html#a1cf329f14eada823571740e544134272">More...</a><br /></td></tr>
<tr class="separator:a1cf329f14eada823571740e544134272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a319cc5a296d612052aa5103931c6599d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a319cc5a296d612052aa5103931c6599d">update_contact_plan</a> (char *filename, bool update)</td></tr>
<tr class="memdesc:a319cc5a296d612052aa5103931c6599d"><td class="mdescLeft">&#160;</td><td class="mdescRight"><br  />
  <a href="interface__unibocgr__dtn2_8cc.html#a319cc5a296d612052aa5103931c6599d">More...</a><br /></td></tr>
<tr class="separator:a319cc5a296d612052aa5103931c6599d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada80d214cd910387ad828fda027823aa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ada80d214cd910387ad828fda027823aa">exclude_neighbors</a> ()</td></tr>
<tr class="memdesc:ada80d214cd910387ad828fda027823aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that will exclude all the neighbors that can't be used as first hop to reach the destination. Currently it only clear the list.  <a href="interface__unibocgr__dtn2_8cc.html#ada80d214cd910387ad828fda027823aa">More...</a><br /></td></tr>
<tr class="separator:ada80d214cd910387ad828fda027823aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355a7721a9e57fcaed38dac5e13cc656"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a355a7721a9e57fcaed38dac5e13cc656">callUniboCGR</a> (time_t time, dtn::Bundle *bundle, std::string *res)</td></tr>
<tr class="memdesc:a355a7721a9e57fcaed38dac5e13cc656"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entry point to call the CGR from DTN2, get the best routes to reach the destination for the bundle.  <a href="interface__unibocgr__dtn2_8cc.html#a355a7721a9e57fcaed38dac5e13cc656">More...</a><br /></td></tr>
<tr class="separator:a355a7721a9e57fcaed38dac5e13cc656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c36a7dab449bca942eb8e23523ca6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a94c36a7dab449bca942eb8e23523ca6f">computeApplicableBacklog</a> (unsigned long long neighbor, int priority, unsigned int ordinal, <a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *CgrApplicableBacklog, <a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *CgrTotalBacklog)</td></tr>
<tr class="memdesc:a94c36a7dab449bca942eb8e23523ca6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the applicable backlog (SABR 3.2.6.2 b) ) and the total backlog for a neighbor.  <a href="interface__unibocgr__dtn2_8cc.html#a94c36a7dab449bca942eb8e23523ca6f">More...</a><br /></td></tr>
<tr class="separator:a94c36a7dab449bca942eb8e23523ca6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1aece9d747477a5dc7499272811e2c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ace1aece9d747477a5dc7499272811e2c">destroy_contact_graph_routing</a> (time_t time)</td></tr>
<tr class="memdesc:ace1aece9d747477a5dc7499272811e2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate all the memory used by the CGR.  <a href="interface__unibocgr__dtn2_8cc.html#ace1aece9d747477a5dc7499272811e2c">More...</a><br /></td></tr>
<tr class="separator:ace1aece9d747477a5dc7499272811e2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade2a88d1505954706ad90497b4ce17bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ade2a88d1505954706ad90497b4ce17bd">initialize_contact_graph_routing</a> (unsigned long long ownNode, time_t time, dtn::UniboCGRBundleRouter *router)</td></tr>
<tr class="memdesc:ade2a88d1505954706ad90497b4ce17bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize all the data used by the CGR.  <a href="interface__unibocgr__dtn2_8cc.html#ade2a88d1505954706ad90497b4ce17bd">More...</a><br /></td></tr>
<tr class="separator:ade2a88d1505954706ad90497b4ce17bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad0b97972841afe5ff5af1d782e346503"><td class="memItemLeft" align="right" valign="top">static time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ad0b97972841afe5ff5af1d782e346503">reference_time</a> = -1</td></tr>
<tr class="memdesc:ad0b97972841afe5ff5af1d782e346503"><td class="mdescLeft">&#160;</td><td class="mdescRight">This time is used by the CGR as time 0.  <a href="interface__unibocgr__dtn2_8cc.html#ad0b97972841afe5ff5af1d782e346503">More...</a><br /></td></tr>
<tr class="separator:ad0b97972841afe5ff5af1d782e346503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06983e7f6e71b233ea7ff3dee1952f2"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ad06983e7f6e71b233ea7ff3dee1952f2">initialized</a> = 0</td></tr>
<tr class="memdesc:ad06983e7f6e71b233ea7ff3dee1952f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Boolean used to know if the CGR has been initialized or not.  <a href="interface__unibocgr__dtn2_8cc.html#ad06983e7f6e71b233ea7ff3dee1952f2">More...</a><br /></td></tr>
<tr class="separator:ad06983e7f6e71b233ea7ff3dee1952f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac166cd469ad1aa61963b9b9c28372dc9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ac166cd469ad1aa61963b9b9c28372dc9">excludedNeighbors</a> = NULL</td></tr>
<tr class="memdesc:ac166cd469ad1aa61963b9b9c28372dc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of excluded neighbors for the current bundle.  <a href="interface__unibocgr__dtn2_8cc.html#ac166cd469ad1aa61963b9b9c28372dc9">More...</a><br /></td></tr>
<tr class="separator:ac166cd469ad1aa61963b9b9c28372dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdd968b1dfa533fe1458783a019bb77d"><td class="memItemLeft" align="right" valign="top">static unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#afdd968b1dfa533fe1458783a019bb77d">localIpn</a></td></tr>
<tr class="memdesc:afdd968b1dfa533fe1458783a019bb77d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The local node.  <a href="interface__unibocgr__dtn2_8cc.html#afdd968b1dfa533fe1458783a019bb77d">More...</a><br /></td></tr>
<tr class="separator:afdd968b1dfa533fe1458783a019bb77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15c95ff0c6b9ca3f48a68e6681c16b4"><td class="memItemLeft" align="right" valign="top">static dtn::UniboCGRBundleRouter *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#ae15c95ff0c6b9ca3f48a68e6681c16b4">uniborouter</a></td></tr>
<tr class="memdesc:ae15c95ff0c6b9ca3f48a68e6681c16b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The istance of the UniboCGR router used by dtn2.  <a href="interface__unibocgr__dtn2_8cc.html#ae15c95ff0c6b9ca3f48a68e6681c16b4">More...</a><br /></td></tr>
<tr class="separator:ae15c95ff0c6b9ca3f48a68e6681c16b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71db01d7df3a95cdae18488d61705b64"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#a71db01d7df3a95cdae18488d61705b64">cgrBundle</a> = NULL</td></tr>
<tr class="memdesc:a71db01d7df3a95cdae18488d61705b64"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> used during the current call.  <a href="interface__unibocgr__dtn2_8cc.html#a71db01d7df3a95cdae18488d61705b64">More...</a><br /></td></tr>
<tr class="separator:a71db01d7df3a95cdae18488d61705b64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba03187ef1bb33f965f9014cd28a634a"><td class="memItemLeft" align="right" valign="top">static const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface__unibocgr__dtn2_8cc.html#aba03187ef1bb33f965f9014cd28a634a">defaultRegionNbr</a> = 1</td></tr>
<tr class="memdesc:aba03187ef1bb33f965f9014cd28a634a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default region number.  <a href="interface__unibocgr__dtn2_8cc.html#aba03187ef1bb33f965f9014cd28a634a">More...</a><br /></td></tr>
<tr class="separator:aba03187ef1bb33f965f9014cd28a634a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file provides the implementation of the functions that make UniboCGR's implementation compatible with DTN2. </p>
<p>In particular the functions that import the contact plan and the BpPlans. We provide in output the best routes list.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2020, Alma Mater Studiorum, University of Bologna, All rights reserved.</dd></dl>
<dl class="section user"><dt>License</dt><dd></dd></dl>
<p>This file is part of Unibo-CGR. <br  />
 <br  />
 Unibo-CGR is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version. <br  />
 Unibo-CGR is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. <br  />
 <br  />
 You should have received a copy of the GNU General Public License along with Unibo-CGR. If not, see <a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
<dl class="section author"><dt>Author</dt><dd>Giacomo Gori, <a href="#" onclick="location.href='mai'+'lto:'+'gia'+'co'+'mo.'+'go'+'ri3'+'@s'+'tud'+'io'+'.un'+'ib'+'o.i'+'t'; return false;">giaco<span style="display: none;">.nosp@m.</span>mo.g<span style="display: none;">.nosp@m.</span>ori3@<span style="display: none;">.nosp@m.</span>stud<span style="display: none;">.nosp@m.</span>io.un<span style="display: none;">.nosp@m.</span>ibo.<span style="display: none;">.nosp@m.</span>it</a></dd></dl>
<dl class="section user"><dt>Supervisor</dt><dd>Carlo Caini, <a href="#" onclick="location.href='mai'+'lto:'+'car'+'lo'+'.ca'+'in'+'i@u'+'ni'+'bo.'+'it'; return false;">carlo<span style="display: none;">.nosp@m.</span>.cai<span style="display: none;">.nosp@m.</span>ni@un<span style="display: none;">.nosp@m.</span>ibo.<span style="display: none;">.nosp@m.</span>it</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a4cb214272346ae65f44d865a9f01f353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb214272346ae65f44d865a9f01f353">&#9670;&nbsp;</a></span>CONTACT_FILE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CONTACT_FILE&#160;&#160;&#160;&quot;./contact-plan.txt&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the name of the contact file from which unibocgr get contacts and ranges. </p>

</div>
</div>
<a id="ac80010c02b2c78d8877f6ac4a5daae31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac80010c02b2c78d8877f6ac4a5daae31">&#9670;&nbsp;</a></span>EPOCH_2000_SEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EPOCH_2000_SEC&#160;&#160;&#160;946684800</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab730db6c131cbfc8a415ea56733aef89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab730db6c131cbfc8a415ea56733aef89">&#9670;&nbsp;</a></span>NOMINAL_PRIMARY_BLKSIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NOMINAL_PRIMARY_BLKSIZE&#160;&#160;&#160;29</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7be558e5be1bcd091dd761547647ce16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7be558e5be1bcd091dd761547647ce16">&#9670;&nbsp;</a></span>printDebugIonRoute</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define printDebugIonRoute</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ionwm, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">route&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;do {  } while(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a87657c3f96e49dd84176e069b7e25419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87657c3f96e49dd84176e069b7e25419">&#9670;&nbsp;</a></span>add_contact()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_contact </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileline</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a contact to the contacts graph of this CGR's implementation. </p>
<dl class="section user"><dt>Function Name:</dt><dd>add_contact</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>02/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td><a class="el" href="struct_contact.html">Contact</a> added </td></tr>
    <tr><td class="paramname">0</td><td><a class="el" href="struct_contact.html">Contact</a>'s arguments error </td></tr>
    <tr><td class="paramname">-1</td><td>The contact overlaps with other contacts </td></tr>
    <tr><td class="paramname">-2</td><td>Can't read all info of the contact </td></tr>
    <tr><td class="paramname">-3</td><td>Can't read all info of the contact </td></tr>
    <tr><td class="paramname">-4</td><td>Can't read fromTime or toTime</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fileline</td><td>The line read from the file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="aa331efc96bd82e2da9feeccfee791250"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa331efc96bd82e2da9feeccfee791250">&#9670;&nbsp;</a></span>add_range()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int add_range </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fileline</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a range to the ranges graph of this CGR's implementation. </p>
<dl class="section user"><dt>Function Name:</dt><dd>add_range</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>02/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td><a class="el" href="struct_range.html">Range</a> added </td></tr>
    <tr><td class="paramname">0</td><td><a class="el" href="struct_range.html">Range</a>'s arguments error </td></tr>
    <tr><td class="paramname">-1</td><td>fileline is not properly formatted </td></tr>
    <tr><td class="paramname">-2</td><td>fileline doesn't start with "+"</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">char*</td><td>The line that contains the range</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a355a7721a9e57fcaed38dac5e13cc656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355a7721a9e57fcaed38dac5e13cc656">&#9670;&nbsp;</a></span>callUniboCGR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int callUniboCGR </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dtn::Bundle *&#160;</td>
          <td class="paramname"><em>bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entry point to call the CGR from DTN2, get the best routes to reach the destination for the bundle. </p>
<dl class="section user"><dt>Function Name:</dt><dd>callUniboCGR</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>05/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Routes found and converted </td></tr>
    <tr><td class="paramname">-1</td><td>There aren't route to reach the destination </td></tr>
    <tr><td class="paramname">-3</td><td>Phase one arguments error </td></tr>
    <tr><td class="paramname">-4</td><td>CGR arguments error </td></tr>
    <tr><td class="paramname">-5</td><td>callCGR arguments error </td></tr>
    <tr><td class="paramname">-7</td><td>Bundle's conversion error </td></tr>
    <tr><td class="paramname">-8</td><td>Bundle's conversion error: bundle have DTN name instead of IPN</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>The current time </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*bundle</td><td>The DTN2's bundle that has to be forwarded </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*res</td><td>The list of best routes found written on a string separated by a space</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">05/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a94c36a7dab449bca942eb8e23523ca6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c36a7dab449bca942eb8e23523ca6f">&#9670;&nbsp;</a></span>computeApplicableBacklog()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int computeApplicableBacklog </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>neighbor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>ordinal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *&#160;</td>
          <td class="paramname"><em>CgrApplicableBacklog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_scalar.html">CgrScalar</a> *&#160;</td>
          <td class="paramname"><em>CgrTotalBacklog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the applicable backlog (SABR 3.2.6.2 b) ) and the total backlog for a neighbor. </p>
<dl class="section user"><dt>Function Name:</dt><dd>computeApplicableBacklog</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>20/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Applicable and total backlog computed </td></tr>
    <tr><td class="paramname">-1</td><td>Arguments error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">neighbor</td><td>The neighbor for which we want to compute the applicable and total backlog. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">priority</td><td>The bundle's cardinal priority </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ordinal</td><td>The bundle's ordinal priority (used with expedited cardinal priority) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*CgrApplicableBacklog</td><td>The applicable backlog computed </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*CgrTotalBacklog</td><td>The total backlog computed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>This function talks with the CL queue, that should be done during phase two to get a more accurate applicable (and total) backlog</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">20/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10/08/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Fixed oasys::Lock bug    </td></tr>
</table>

</div>
</div>
<a id="a96406857d9fc71ec0b2e34e542504a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96406857d9fc71ec0b2e34e542504a51">&#9670;&nbsp;</a></span>convert_bundle_from_dtn2_to_cgr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int convert_bundle_from_dtn2_to_cgr </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dtn::Bundle *&#160;</td>
          <td class="paramname"><em>Dtn2Bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> *&#160;</td>
          <td class="paramname"><em>CgrBundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the characteristics of the bundle from DTN2 to this CGR's implementation and initialize all the bundle fields used by the Unibo CGR. </p>
<dl class="section user"><dt>Function Name:</dt><dd>convert_bundle_from_dtn2_to_cgr</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>05/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success case </td></tr>
    <tr><td class="paramname">-1</td><td>Arguments error </td></tr>
    <tr><td class="paramname">-2</td><td>Bundle have a DTN name, not IPN. Can't use CGR.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">current_time</td><td>The current time, in differential time from reference_time </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*Dtn2Bundle</td><td>The bundle in DTN2 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*CgrBundle</td><td>The bundle in this CGR's implementation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">05/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a967a340bdfa2ce4a80cb7f845d705c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967a340bdfa2ce4a80cb7f845d705c7c">&#9670;&nbsp;</a></span>convert_routes_from_cgr_to_dtn2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int convert_routes_from_cgr_to_dtn2 </td>
          <td>(</td>
          <td class="paramtype">long unsigned int&#160;</td>
          <td class="paramname"><em>evc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a>&#160;</td>
          <td class="paramname"><em>cgrRoutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string *&#160;</td>
          <td class="paramname"><em>res</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a list of routes from CGR's format to DTN2's format. </p>
<dl class="section user"><dt>Function Name:</dt><dd>convert_routes_from_cgr_to_dtn2</dd></dl>
<dl class="section user"><dt>Date Written: </dt><dd>16/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>All routes converted </td></tr>
    <tr><td class="paramname">-1</td><td>CGR's contact points to NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">evc</td><td>Bundle's estimated volume consumption </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cgrRoutes</td><td>The list of routes in CGR's format </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*res</td><td>All the next hops that CGR found, separated by a single space</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">16/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="ace1aece9d747477a5dc7499272811e2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1aece9d747477a5dc7499272811e2c">&#9670;&nbsp;</a></span>destroy_contact_graph_routing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void destroy_contact_graph_routing </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate all the memory used by the CGR. </p>
<dl class="section user"><dt>Function Name:</dt><dd>destroy_contact_graph_routing</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>14/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>void</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>The current time</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">14/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="ada80d214cd910387ad828fda027823aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada80d214cd910387ad828fda027823aa">&#9670;&nbsp;</a></span>exclude_neighbors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int exclude_neighbors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that will exclude all the neighbors that can't be used as first hop to reach the destination. Currently it only clear the list. </p>
<dl class="section user"><dt>Function Name:</dt><dd>exclude_neighbors</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>01/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Success case: List converted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>excludedNeighbors has to be previously initialized</dd></dl>
<dl class="section user"><dt>Notes:</dt><dd><ol type="1">
<li>This function clear the previous excludedNeighbors list</li>
</ol>
</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">01/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="ade2a88d1505954706ad90497b4ce17bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade2a88d1505954706ad90497b4ce17bd">&#9670;&nbsp;</a></span>initialize_contact_graph_routing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int initialize_contact_graph_routing </td>
          <td>(</td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>ownNode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dtn::UniboCGRBundleRouter *&#160;</td>
          <td class="paramname"><em>router</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize all the data used by the CGR. </p>
<dl class="section user"><dt>Function Name:</dt><dd>initialize_contact_graph_routing</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>01/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">1</td><td>Success case: CGR initialized </td></tr>
    <tr><td class="paramname">-1</td><td>Error case: ownNode can't be 0 </td></tr>
    <tr><td class="paramname">-2</td><td>can't open or read file with contacts </td></tr>
    <tr><td class="paramname">-3</td><td>Error case: log directory can't be opened </td></tr>
    <tr><td class="paramname">-4</td><td>Error case: log file can't be opened </td></tr>
    <tr><td class="paramname">-5</td><td>Arguments error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ownNode</td><td>The node that the CGR will consider as contacts graph's root </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">time</td><td>The reference unix time (time 0 for the CGR)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">01/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a1cf329f14eada823571740e544134272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cf329f14eada823571740e544134272">&#9670;&nbsp;</a></span>read_file_contactranges()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int read_file_contactranges </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read and add all new contacts or ranges of the file with filename specified in the first parameter to the contacts graph of thic CGR's implementation. </p>
<dl class="section user"><dt>Function Name:</dt><dd>read_file_contactranges</dd></dl>
<p>Only for Registration and Scheduled contacts.</p>
<dl class="section user"><dt>Date Written:</dt><dd>02/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&gt;= 0</td><td>Number of contacts added to the contacts graph </td></tr>
    <tr><td class="paramname">-1</td><td>open file error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">char*</td><td>The name of the file to read</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<a id="a319cc5a296d612052aa5103931c6599d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a319cc5a296d612052aa5103931c6599d">&#9670;&nbsp;</a></span>update_contact_plan()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int update_contact_plan </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><br  />
 </p>
<dl class="section user"><dt>Function Name:</dt><dd>update_contact_plan</dd></dl>
<dl class="section user"><dt>Date Written:</dt><dd>01/07/20</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>int</dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td><a class="el" href="struct_contact.html">Contact</a> plan has been changed and updated </td></tr>
    <tr><td class="paramname">-1</td><td><a class="el" href="struct_contact.html">Contact</a> plan isn't changed </td></tr>
    <tr><td class="paramname">-2</td><td>File error</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>The name of the file from which we read contacts </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">update</td><td>Set true to update contact plan, false to not update</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>file should exist</dd></dl>
<dl class="section user"><dt>Revision History:</dt><dd></dd></dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">DD/MM/YY   </th><th class="markdownTableHeadNone">AUTHOR   </th><th class="markdownTableHeadNone">DESCRIPTION    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">01/07/20   </td><td class="markdownTableBodyNone">G. Gori   </td><td class="markdownTableBodyNone">Initial Implementation and documentation.    </td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a71db01d7df3a95cdae18488d61705b64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71db01d7df3a95cdae18488d61705b64">&#9670;&nbsp;</a></span>cgrBundle</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_cgr_bundle.html">CgrBundle</a>* cgrBundle = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="struct_cgr_bundle.html">CgrBundle</a> used during the current call. </p>

</div>
</div>
<a id="aba03187ef1bb33f965f9014cd28a634a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba03187ef1bb33f965f9014cd28a634a">&#9670;&nbsp;</a></span>defaultRegionNbr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long defaultRegionNbr = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default region number. </p>

</div>
</div>
<a id="ac166cd469ad1aa61963b9b9c28372dc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac166cd469ad1aa61963b9b9c28372dc9">&#9670;&nbsp;</a></span>excludedNeighbors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="list__type_8h.html#a2f83d70457d96c5f0328f29529375850">List</a> excludedNeighbors = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of excluded neighbors for the current bundle. </p>

</div>
</div>
<a id="ad06983e7f6e71b233ea7ff3dee1952f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06983e7f6e71b233ea7ff3dee1952f2">&#9670;&nbsp;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int initialized = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Boolean used to know if the CGR has been initialized or not. </p>

</div>
</div>
<a id="afdd968b1dfa533fe1458783a019bb77d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd968b1dfa533fe1458783a019bb77d">&#9670;&nbsp;</a></span>localIpn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long localIpn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The local node. </p>

</div>
</div>
<a id="ad0b97972841afe5ff5af1d782e346503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0b97972841afe5ff5af1d782e346503">&#9670;&nbsp;</a></span>reference_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t reference_time = -1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This time is used by the CGR as time 0. </p>

</div>
</div>
<a id="ae15c95ff0c6b9ca3f48a68e6681c16b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae15c95ff0c6b9ca3f48a68e6681c16b4">&#9670;&nbsp;</a></span>uniborouter</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dtn::UniboCGRBundleRouter* uniborouter</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The istance of the UniboCGR router used by dtn2. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.0
</small></address>
</body>
</html>
